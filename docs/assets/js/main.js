"use strict";const btn=document.querySelector(".btn"),cardTable=document.querySelector(".game__container"),backCardImg="https://via.placeholder.com/160x195/30d9c4/ffffff/?text=ADALAB";let cardElement=document.querySelectorAll(".card__element"),firstCard="",firstCardClicked="";const CARDS_LS_KEY="cards";let defaultChecked=document.querySelector('input[name="form__input"][checked]').value,cardsNumber=JSON.parse(localStorage.getItem(CARDS_LS_KEY))||defaultChecked;function updateLS(){localStorage.setItem(CARDS_LS_KEY,JSON.stringify(cardsNumber))}function getInputValue(){document.querySelector(`input[name="form__input"][value="${cardsNumber}"]`).checked=!0}getInputValue();const handleResponse=e=>{if(!e.ok)throw e;return e.json()},dealCards=e=>{cardTable.innerHTML="";for(let t=0;t<e.length;t++){const r=document.createElement("li");r.classList.add("card__element");const d=e[t].image,a=document.createElement("img");a.classList.add("front","hidden"),a.setAttribute("src",d);const c=e[t].pair;a.setAttribute("id",c);const n=document.createElement("img");n.classList.add("back"),n.setAttribute("src",`${backCardImg}`),r.appendChild(a),r.appendChild(n),cardTable.appendChild(r)}addEventListenerToList(cardElement=document.querySelectorAll(".card__element"))};function handleCards(e){const t=e.currentTarget.querySelectorAll("img");toggleCards(t),checkCards(t)}function toggleCards(e){e[0].classList.toggle("hidden"),e[1].classList.toggle("hidden")}function delayCardsToggle(e){toggleCards(e),toggleCards(firstCardClicked)}function checkCards(e){const t=e[0].id;if(firstCard)if(firstCard!==t){firstCard="";setTimeout(delayCardsToggle(e),2e3)}else firstCard="",firstCardClicked="";else firstCard=t,firstCardClicked=e}function addEventListenerToList(e){for(const t of e)t.addEventListener("click",handleCards)}function handleAPI(){cardsNumber=document.querySelector('input[name="form__input"]:checked').value,updateLS(),fetch(`https://raw.githubusercontent.com/Adalab/cards-data/master/${cardsNumber}.json`).then(handleResponse).then(dealCards)}btn.addEventListener("click",handleAPI);